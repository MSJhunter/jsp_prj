<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="icon"
	href="http://192.168.10.221/html_prj/common/images/favicon.png">
<link rel="stylesheet" type="text/css"
	href="http://192.168.10.221/html_prj/common/css/main_20240911.css" />
<!-- bootstrap CDN 시작 -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
	crossorigin="anonymous"></script>
<style type="text/css">
</style>
<script type="text/javascript">
	window.onload = function() {
		//페이지 로드되면 readName 함수 실행
		readName();
	}//onload

	/* 	setItem() - key, value 추가
	getItem() - value 읽어 오기
	removeItem() - item 삭제
	clear() - 도메인 내의 localStorage 값 삭제
	 */

	function readName() {
		var chkFlag = localStorage.getItem("chkFlag");
		//localStorage에 chkFlage 값 가져옴
		if (chkFlag != null && chkFlag == "true") {
			//체크박스에 체크되고, 저장된 이름 있으면 
			//입력 필드에 해당 이름 표시, 체크박스 체크
			var obj = document.frm; //전체 폼
			obj.name.value = localStorage.getItem("name");
			// localStorage: 
			// 브라우저에 key-value 값을 Storage에 저장
			obj.saveFlag.checked = chkFlag; //적용
		}//end if

	}//readName

	function setName() {
		var obj = document.frm;
		//document.frm 통해 html 폼 객체 가져옴
		//이 폼은 이름과 체크박스 포함
		var chkFlag = obj.saveFlag.checked;
		//폼 내의 체크박스의 상태를 확인
		var name = "";
		//이름 저장할 변수 선언, 기본값은 빈 문자열

		if (chkFlag) {//체크박스가 확인되었다면
			name = obj.name.value;
			//체크박스에 체크되었으면 이름 변수 -> 
			//사용자 입력한 이름(obj.name.value) 할당
		}//end if

		localStorage.setItem("name", name);
		//입력된 이름을 localStorage 저장 
		localStorage.setItem("chkFlag", chkFlag);
	}//setName
</script>
</head>
<body>
	<div>
		<form name="frm">
			<div class="row g-3 align-items-center">
				<div class="col-auto">
					<label for="inputPassword6" class="col-form-label">이름</label>
				</div>
				<div class="col-auto">
					<input type="text" id="name" name="name" class="form-control"
						aria-describedby="passwordHelpInline">
				</div>
				<div class="col-auto">
					<input type="checkbox" id="saveFlag" name="saveFlag"
						style="width: 36px; height: 36px; border-radius: 10px" />
				</div>
			</div>
			<input type="button" value="입력" class="btn btn-primary"
				onclick="setName()">
		</form>
	</div>
</body>
</html>